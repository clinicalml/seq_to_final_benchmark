# ERM final 4k
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_final --model_type=resnet --num_blocks=1
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_final --model_type=resnet --num_blocks=2
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_final --model_type=resnet --num_blocks=3
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_final --model_type=resnet --num_blocks=4
# ERM final 20k
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:20000 --target_test_size=5000 --method=erm_final --model_type=resnet --num_blocks=1
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:20000 --target_test_size=5000 --method=erm_final --model_type=resnet --num_blocks=2
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:20000 --target_test_size=5000 --method=erm_final --model_type=resnet --num_blocks=3
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:20000 --target_test_size=5000 --method=erm_final --model_type=resnet --num_blocks=4
# ERM all
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_all --model_type=resnet --num_blocks=1
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_all --model_type=resnet --num_blocks=2
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_all --model_type=resnet --num_blocks=3
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_all --model_type=resnet --num_blocks=4
# fine tuning
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=1
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=2
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=3
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=4
# sequential FT exponential decay
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=1
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=2
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=3
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=4
# sequential FT linear decay
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=1 --learning_rate_decay=linear
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=2 --learning_rate_decay=linear
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=3 --learning_rate_decay=linear
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=4 --learning_rate_decay=linear
# sequential FT no decay
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=1 --learning_rate_decay=none
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=2 --learning_rate_decay=none
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=3 --learning_rate_decay=none
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=4 --learning_rate_decay=none
# side tune
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=1 --fine_tune_mode=side_tune
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=2 --fine_tune_mode=side_tune
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=3 --fine_tune_mode=side_tune
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=4 --fine_tune_mode=side_tune
# side tune block
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=1 --fine_tune_mode=side_tune --side_layer_sizes=block
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=2 --fine_tune_mode=side_tune --side_layer_sizes=block
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=3 --fine_tune_mode=side_tune --side_layer_sizes=block
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=erm_fine_tune --model_type=resnet --num_blocks=4 --fine_tune_mode=side_tune --side_layer_sizes=block
# sequential side tune
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=1 --fine_tune_mode=side_tune
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=2 --fine_tune_mode=side_tune
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=3 --fine_tune_mode=side_tune
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=4 --fine_tune_mode=side_tune
# sequential side tune block
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=1 --fine_tune_mode=side_tune --side_layer_sizes=block
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=2 --fine_tune_mode=side_tune --side_layer_sizes=block
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=3 --fine_tune_mode=side_tune --side_layer_sizes=block
python run_erm_fine_tuning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --method=sequential_fine_tune --model_type=resnet --num_blocks=4 --fine_tune_mode=side_tune --side_layer_sizes=block
# joint model
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=1
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=2
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=3
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=4
# joint model side layer
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=1 --mode=side_tune --adjacent_reg_type=none --all_layers_efficient
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=2 --mode=side_tune --adjacent_reg_type=none --all_layers_efficient
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=3 --mode=side_tune --adjacent_reg_type=none --all_layers_efficient
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=4 --mode=side_tune --adjacent_reg_type=none --all_layers_efficient
# joint model side block
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=1 --mode=side_tune --side_layer_sizes=block --adjacent_reg_type=none --all_layers_efficient
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=2 --mode=side_tune --side_layer_sizes=block --adjacent_reg_type=none --all_layers_efficient
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=3 --mode=side_tune --side_layer_sizes=block --adjacent_reg_type=none --all_layers_efficient
python run_joint_model_learning.py --dataset=cifar10 --shift_sequence=rotation:corruption:label_flip --gpu_num=3 --source_sample_size=6000 --target_sample_size_seq=4000:6000:4000 --target_test_size=5000 --model_type=resnet --num_blocks=4 --mode=side_tune --side_layer_sizes=block --adjacent_reg_type=none --all_layers_efficient