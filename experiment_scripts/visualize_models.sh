python3 visualize_models.py --dataset=cifar10 --model_type=convnet --num_blocks=4 --shift_sequence=corruption:label_flip:rotation --representation=cca --gpu_num=7 --model_dirs=erm_final:erm_all:irm_all:dro_all:erm_fine_tune:erm_linear_probe_then_fine_tune:irm_fine_tune:dro_fine_tune:erm_side_tune_block:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_side_tune_block:sequential_fine_tune_reg_all_previous_fisher:joint_model_adjacent_reg_l2:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM final:ERM all:IRM:DRO:ERM + fine-tune:ERM + LP-FT:IRM + fine-tune:DRO + fine-tune:ERM + side-tune:SFT:SFT exp decay:SFT lin decay:sequential side tune:EWC:joint model:joint with side block' --plot_title='CIFAR-10 CLR Conv-4'
python3 visualize_models.py --dataset=cifar10 --model_type=convnet --num_blocks=4 --shift_sequence=corruption:label_flip:rotation --representation=weight_proj --gpu_num=7 --model_dirs=erm_final:erm_all:irm_all:dro_all:erm_fine_tune:erm_linear_probe_then_fine_tune:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:joint_model_adjacent_reg_l2 --model_names='ERM final:ERM all:IRM:DRO:ERM + fine-tune:ERM + LP-FT:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:joint model' --plot_title='CIFAR-10 CLR Conv-4'
python3 visualize_models.py --dataset=cifar10 --model_type=convnet --num_blocks=4 --shift_sequence=corruption:label_flip:rotation --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:joint model:joint with side block' --plot_title='CIFAR-10 CLR Conv-4'

python3 visualize_models.py --dataset=cifar10 --model_type=convnet --num_blocks=4 --shift_sequence=rotation:corruption:label_flip --representation=cca --gpu_num=7 --model_dirs=erm_final:erm_all:irm_all:dro_all:erm_fine_tune:erm_linear_probe_then_fine_tune:irm_fine_tune:dro_fine_tune:erm_side_tune_block:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM final:ERM all:IRM:DRO:ERM + fine-tune:ERM + LP-FT:IRM + fine-tune:DRO + fine-tune:ERM + side-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:joint model:joint with side block' --plot_title='CIFAR-10 RCL Conv-4'
python3 visualize_models.py --dataset=cifar10 --model_type=convnet --num_blocks=4 --shift_sequence=rotation:corruption:label_flip --representation=weight_proj --gpu_num=7 --model_dirs=erm_final:erm_all:irm_all:dro_all:erm_fine_tune:erm_linear_probe_then_fine_tune:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:joint_model_adjacent_reg_l2 --model_names='ERM final:ERM all:IRM:DRO:ERM + fine-tune:ERM + LP-FT:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:joint model' --plot_title='CIFAR-10 RCL Conv-4'

python3 visualize_models.py --dataset=cifar10 --model_type=convnet --num_blocks=4 --shift_sequence=rotation:corruption:label_flip --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:joint model:joint with side block' --plot_title='CIFAR-10 RCL Conv-4'
python3 visualize_models.py --dataset=cifar10 --model_type=convnet --num_blocks=4 --shift_sequence=rotation_cond:rotation_cond:rotation_cond --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:joint model:joint with side block' --plot_title='CIFAR-10 rrr Conv-4'
python3 visualize_models.py --dataset=cifar10 --model_type=convnet --num_blocks=4 --shift_sequence=recolor:recolor:recolor --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:joint model:joint with side block' --plot_title='CIFAR-10 TTT Conv-4'
python3 visualize_models.py --dataset=cifar100 --model_type=convnet --num_blocks=4 --shift_sequence=subpop:subpop:subpop --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:joint model:joint with side block' --plot_title='CIFAR-100 sss Conv-4'
python3 visualize_models.py --dataset=portraits --model_type=convnet --num_blocks=4 --representation=loss_interpolate --gpu_num=0 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:joint model:joint with side block' --plot_title='Portraits Conv-4'

python3 visualize_models.py --dataset=cifar10 --model_type=densenet --num_blocks=4 --shift_sequence=corruption:label_flip:rotation --representation=cca --gpu_num=7 --model_dirs=erm_final:erm_all:irm_all:dro_all:erm_fine_tune:erm_linear_probe_then_fine_tune:irm_fine_tune:dro_fine_tune:erm_side_tune:erm_side_tune_block:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM final:ERM all:IRM:DRO:ERM + fine-tune:ERM + LP-FT:IRM + fine-tune:DRO + fine-tune:ERM + side-tune:ERM + side-tune block:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side-tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 CLR Dense-4'
python3 visualize_models.py --dataset=cifar10 --model_type=densenet --num_blocks=4 --shift_sequence=corruption:label_flip:rotation --representation=weight_proj --gpu_num=7 --model_dirs=erm_final:erm_all:irm_all:dro_all:erm_fine_tune:erm_linear_probe_then_fine_tune:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:joint_model_adjacent_reg_l2 --model_names='ERM final:ERM all:IRM:DRO:ERM + fine-tune:ERM + LP-FT:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:joint model' --plot_title='CIFAR-10 CLR Dense-4'
python3 visualize_models.py --dataset=cifar10 --model_type=densenet --num_blocks=4 --shift_sequence=corruption:label_flip:rotation --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 CLR Dense-4'

python3 visualize_models.py --dataset=cifar10 --model_type=densenet --num_blocks=4 --shift_sequence=rotation:corruption:label_flip --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 RCL Dense-4'
python3 visualize_models.py --dataset=cifar10 --model_type=densenet --num_blocks=4 --shift_sequence=rotation_cond:rotation_cond:rotation_cond --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 rrr Dense-4'
python3 visualize_models.py --dataset=cifar10 --model_type=densenet --num_blocks=4 --shift_sequence=recolor:recolor:recolor --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 TTT Dense-4'
python3 visualize_models.py --dataset=cifar100 --model_type=densenet --num_blocks=4 --shift_sequence=subpop:subpop:subpop --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-100 sss Dense-4'
python3 visualize_models.py --dataset=portraits --model_type=densenet --num_blocks=4 --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:joint model:joint with side block' --plot_title='Portraits Dense-4'

python3 visualize_models.py --dataset=cifar10 --model_type=resnet --num_blocks=4 --shift_sequence=corruption:label_flip:rotation --representation=cca --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 CLR Res-4'
python3 visualize_models.py --dataset=cifar10 --model_type=resnet --num_blocks=4 --shift_sequence=corruption:label_flip:rotation --representation=weight_proj --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 CLR Res-4'
python3 visualize_models.py --dataset=cifar10 --model_type=resnet --num_blocks=4 --shift_sequence=corruption:label_flip:rotation --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 CLR Res-4'

python3 visualize_models.py --dataset=cifar10 --model_type=resnet --num_blocks=4 --shift_sequence=rotation:corruption:label_flip --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 RCL Res-4'
python3 visualize_models.py --dataset=cifar10 --model_type=resnet --num_blocks=4 --shift_sequence=rotation_cond:rotation_cond:rotation_cond --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 rrr Res-4'
python3 visualize_models.py --dataset=cifar10 --model_type=resnet --num_blocks=4 --shift_sequence=recolor:recolor:recolor --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 TTT Res-4'
python3 visualize_models.py --dataset=cifar100 --model_type=resnet --num_blocks=4 --shift_sequence=subpop:subpop:subpop --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-100 sss Res-4'
python3 visualize_models.py --dataset=portraits --model_type=resnet --num_blocks=4 --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='Portraits Res-4'
python3 visualize_models.py --dataset=cifar10 --model_type=resnet --num_blocks=4 --shift_sequence=rotation:rotation:rotation:rotation:rotation:rotation:rotation --representation=loss_interpolate --gpu_num=0 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='Length-8 Rotation Sequence Res-4'

python3 visualize_models.py --dataset=cifar10 --model_type=merge --num_blocks=4 --shift_sequence=corruption:label_flip:rotation --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 CLR'
python3 visualize_models.py --dataset=cifar10 --model_type=merge --num_blocks=4 --shift_sequence=rotation:corruption:label_flip --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 RCL'
python3 visualize_models.py --dataset=cifar10 --model_type=merge --num_blocks=4 --shift_sequence=rotation_cond:rotation_cond:rotation_cond --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 rrr'
python3 visualize_models.py --dataset=cifar10 --model_type=merge --num_blocks=4 --shift_sequence=recolor:recolor:recolor --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-10 TTT'
python3 visualize_models.py --dataset=cifar100 --model_type=merge --num_blocks=4 --shift_sequence=subpop:subpop:subpop --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='CIFAR-100 sss'
python3 visualize_models.py --dataset=portraits --model_type=merge --num_blocks=4 --representation=loss_interpolate --gpu_num=7 --model_dirs=erm_fine_tune:erm_linear_probe_then_fine_tune:erm_side_tune:erm_side_tune_block:irm_fine_tune:dro_fine_tune:sequential_fine_tune:sequential_fine_tune_exponential_lr_decay:sequential_fine_tune_linear_lr_decay:sequential_fine_tune_reg_all_previous_fisher:sequential_side_tune:sequential_side_tune_block:joint_model_adjacent_reg_l2:joint_model_side_tune_adjacent_reg_none:joint_model_side_tune_block_adjacent_reg_none --model_names='ERM + fine-tune:ERM + LP-FT:ERM + side-tune:ERM + side-tune block:IRM + fine-tune:DRO + fine-tune:SFT:SFT exp decay:SFT lin decay:EWC:sequential side tune:sequential side tune block:joint model:joint with side layer:joint with side block' --plot_title='Portraits'